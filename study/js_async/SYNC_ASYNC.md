## 동기 / 비동기

- 기본적으로 JS는 동기식 언어이다 : 한번에 하나의 작업을 수행한다.
- 즉, 한 작업이 실행 되는 동안 다른작업은 멈춘 상태로 대기한다.


### JS의 작동 방식 : 동기
    JS는 단일 스레드 (동기)의 방식으로 수행된다.
- JS의 엔진은 Memory Heap과 Call Stack으로 구성된다.
#### Memory Heap?
- 변수, 객체의 메모리 할당을 담당한다.
#### Call Stack?
- 함수가 호출시,실행 순서를 결정을 담당한다.
- 함수 호출 순서대로 Call Stack에 쌓이고, 가장 먼저 호출된 함수가 실행되고 나서야 다음 함수가 실행된다. (선입선출, Queue형태와 비슷하다.)


### 비동기
    동기와 반대로, 먼저 시작된 작업의 완료 여부와 관계없이 새로운 작업을 진행 할 수 있다.
- JS는 동기식으로 작동한다. 하지만 어떠한 함수가 실행이 오래 걸린다면 그 함수가 실행되기 전까지 다른 함수들은 실행이 불가능하다.
- JS가 브라우저에서 동작할때 이러한 현상이 생기면 페이지 자체의 렌더링이 느려질 수 있다.
- 따라서, 브라우저에서 동작시 비동기로 동작 할 수 있어야 한다.
- JS에서의 비동기는 다음과 같이 동작한다.
  1. Call Stack에서 비동기 함수 호출 후 Call Stack에 쌓인다.
  2. Web API로 이동 및 함수 등록 후 Call Stack에서 제거
  3. Web API에서 비동기 함수의 이벤트가 발생하면, 해당 함수는 Task Queue에 이동
  4. Call Stack이 비어있는지 Event Loop가 확인 후, 비어있다면 Call Stack으로 Task Queue에 있는 함수를 이동시킨다.
  5. Call Stack에 있는 함수가 실행되고, 완료되면 Call Stack에서 사라진다.

#### JS에는 3가지 비동기 처리 방식이 있다.
    1. CallBack 함수
    2. Promise
    3. Promise를 활용한 async/await

#### CallBack 함수
    함수 안에서 특정 시점에 호출되는 함수를 뜻한다. (다른 함수에 인자로 전달된다)
    주로 함수의 매개변수로 전달하여 특정 시점에 호출
- 일반 함수와 다른 문법적 특성을 가지고 있는것이 아니라, 호출방식에 따라 분류한다.
- JS에서 비동기적 프로그래밍을 하기 위해 사용된다.
- ex) 이벤트 처리, 네트워크 응답처리 등
- 일반적인 함수에서는 return을 이용하여 결괏값을 반환하지만, CallBack 함수 사용시 return 대신 CallBack람수를 호출한다.
#### CallBack 함수의 단점
- CallBack 함수를 이용한 비동기 처리는 콜백지옥에 빠질수도 있고,에러처리가 힘들다는 점이 있다.
  1. CallBack 함수는 비동기 함수이므로, 함수의 실행을 기다리지 않고 즉시 종료되어 Call Stack에서 제거 된다.
  2. 이후에 이벤트가 발생하면 Task Queue로 이동 후 Call Stack이 비었을때 다시 Call Stack으로 이동한다.
  3. Call Stack으로 이동할때, 이미 CallBack 함수는 제거된 상태 였기 때문에, 원래 있던 Call Stack에는 CallBack 함수가 존재하지 않는다.
  4. 즉, 이동한 CallBack 함수를 호출한것이 CallBack 함수가 아니란 뜻이다.
  5. 그런데 예외처리는 호출한 함수로 전달 되기 때문에 에러가 CallBack 함수로 전달 되지 않는다.
  6. 결국, catch문에 handling 되지 않고 프로세스가 종료된다.

#### 따라서, 이러한 단점을 보완하여 Promise 객체가 사용된다.